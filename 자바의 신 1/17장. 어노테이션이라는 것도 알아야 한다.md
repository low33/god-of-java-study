## π“ λ‚΄μ© μ •λ¦¬
---
### μ–΄λ…Έν…μ΄μ…μ΄λ€?

>Annotation, λ©”νƒ€λ°μ΄ν„°(Metadata)λΌκ³  λ¶λ¦¬κ³ λ„ν•λ‹¤.

- μ»΄νμΌλ¬μ—κ² μ •λ³΄λ¥Ό μ•λ ¤μ¤€λ‹¤.
- μ»΄νμΌν•  λ•μ™€ μ„¤μΉ(deployment) μ‹μ μ‘μ—… μ§€μ •
- μ‹¤ν–‰ν•  λ• λ³„λ„μ μ²λ¦¬

- ν΄λμ¤, λ©”μ†λ“, λ³€μ λ“± λ¨λ“  μ”μ†μ— μ„ μ–Έν•  μ μλ‹¤.

### λ―Έλ¦¬ μ •ν•΄μ Έ μλ” μ–΄λ…Έν…μ΄μ…λ“¤μ€ λ”± 3κ°λΏ
JDK 6κΉμ§€λ” 3κ°μ μ–΄λ…Έν…μ΄μ…λ§ μμ—λ‹¤.
- @Override
- @Deprecated
- @SupressWarning

**@Override**
- λ¶€λ¨ ν΄λμ¤μ μλ” λ©”μ†λ“λ¥Ό Override ν–λ‹¤λ” κ²ƒμ„ λ…μ‹
- μλ» μ½”λ”© μ‹ μ»΄νμΌ μ—λ¬ λ°μƒ

**@Deprecated**
- λ” μ΄μƒ μ‚¬μ©ν•μ§€ μ•λ” κ²ƒμ€ λ…μ‹
- μ‚¬μ© μ‹ κ²½κ³ (warning) λ°μƒ

**@SupressWarning**
- κ²½κ³ (warning) λ¬΄μ‹ λ…μ‹


### μ–΄λ…Έν…μ΄μ…μ„ μ„ μ–Έν•κΈ° μ„ν• λ©”νƒ€ μ–΄λ…Έν…μ΄μ…

**λ©”νƒ€ μ–΄λ…Έν…μ΄μ… 4κ°€μ§€**
- @Target
- @Retention
- @Documented
- @Inherited

**@Target**
- μ–΄λ…Έν…μ΄μ…μ„ μ–΄λ–¤ κ²ƒμ— μ μ©ν•  μ§€ μ„ μ–Έ
```java
@Target(ElementType.METHOD)
```

| μ”μ† νƒ€μ…          | λ€μƒ                           |
| -------------- | ---------------------------- |
| CONSTRUCTOR    | μƒμ„±μ μ„ μ–Έμ‹                      |
| FIELD          | enum μƒμλ¥Ό ν¬ν•¨ν• ν•„λ“(field) κ° μ„ μ–Έμ‹ |
| LOCAL_VARIABLE | μ§€μ—­ λ³€μ μ„ μ–Έμ‹                    |
| METHOD         | λ©”μ†λ“ μ„ μ–Έμ‹                      |
| PACKAGE        | ν¨ν‚¤μ§€ μ„ μ–Έμ‹                      |
| PARAMETER      | λ§¤κ° λ³€μ μ„ μ–Έμ‹                    |
| TYPE           | ν΄λμ¤, μΈν„°νμ΄μ¤, enum λ“± μ„ μ–Έμ‹       |

**@Retention**
- μ–Όλ§λ‚ μ¤λ μ–΄λ…Έν…μ΄μ… μ •λ³΄κ°€ μ μ§€λλ”μ§€

```java
@Retention(RetentionPolicy.RUNTIME)
```

| νƒ€μ…      | λ€μƒ                                                                        |
| ------- | ------------------------------------------------------------------------- |
| SOURCE  | μ–΄λ…Έν…μ΄μ… μ •λ³΄κ°€ μ»΄νμΌμ‹ μ‚¬λΌμ§                                                        |
| CLASS   | ν΄λμ¤ νμΌμ— μλ” μ–΄λ…Έν…μ΄μ… μ •λ³΄κ°€ μ»΄νμΌλ¬μ— μν•΄μ„ μ°Έμ΅° κ°€λ¥ν•¨. ν•μ§€λ§, κ°€μƒ λ¨Έμ‹ (Virtual Machine)μ—μ„λ” μ‚¬λΌμ§ |
| RUNTIME | μ‹¤ν–‰μ‹ μ–΄λ…Έν…μ΄μ… μ •λ³΄κ°€ κ°€μƒ λ¨Έμ‹ μ— μν•΄μ„ μ°Έμ΅° κ°€λ¥                                            |

**@Documented**
- 'μ–΄λ…Έν…μ΄μ…μ— λ€ν• μ •λ³΄κ°€ Javadocs(API) λ¬Έμ„μ— ν¬ν•¨λλ‹¤λ” κ²ƒ' μ„ μ„ μ–Έ

**@Inherited**
- λ¨λ“  μμ‹ ν΄λμ¤μ—μ„ λ¶€λ¨ ν΄λμ¤μ μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ© κ°€λ¥ν•λ‹¤λ” κ²ƒμ„ μ„ μ–Έ

**@interface**
- μ–΄λ…Έν…μ΄μ…μ„ μ„ μ–Έν•  λ• μ‚¬μ©


### μ–΄λ…Έν…μ΄μ…μ„ μ„ μ–Έν•΄ λ³΄μ
```java
package c.annotation;

import java.lang.annotation.ElementType;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;
import java.lang.annotation.Target;

// β‘  @Target: μ΄ μ–΄λ…Έν…μ΄μ…μ΄ λ©”μ†λ“μ—λ§ μ μ©λ  μ μλ„λ΅ μ§€μ •
// ElementType.METHODλ¥Ό μ‚¬μ©ν•μ—¬ λ©”μ†λ“μ—μ„λ§ μ‚¬μ© κ°€λ¥ν•λ„λ΅ μ ν•
@Target({ElementType.METHOD, ElementType.METHOD})

// β‘΅ @Retention: μ–΄λ…Έν…μ΄μ… μ μ§€ μ •λ³΄λ¥Ό μ§€μ •ν•λ” λ©”νƒ€ μ–΄λ…Έν…μ΄μ…
// RetentionPolicy.RUNTIMEμΌλ΅ μ§€μ •ν•λ©΄ μ‹¤ν–‰μ‹μ—λ„ μ΄ μ–΄λ…Έν…μ΄μ…μ„ μ°Έμ΅°ν•  μ μμ
@Retention(RetentionPolicy.RUNTIME)

// β‘Ά μ–΄λ…Έν…μ΄μ… μ΄λ¦„μ€ UserAnnotationμ΄λ©° @interface ν‚¤μ›λ“λ΅ μ„ μ–Έ
// ν΄λμ¤λ‚ μΈν„°νμ΄μ¤λ¥Ό μ„ μ–Έν•  λ•μ²λΌ @interfaceλ΅ μ„ μ–Έν•λ©΄ @UserAnnotationμΌλ΅ μ‚¬μ© κ°€λ¥
public @interface UserAnnotation {
    
    // β‘£ μ–΄λ…Έν…μ΄μ… μ„ μ–Έ μ•μ—λ” number()λΌλ” λ©”μ†λ“μ™€ text()λΌλ” λ©”μ†λ“κ°€ μμ
    // number()μ λ¦¬ν„΄ νƒ€μ…μ€ intμ΄λ©°, text()μ λ¦¬ν„΄ νƒ€μ…μ€ String
    // μ΄λ ‡κ² λ©”μ†λ“μ²λΌ μ–΄λ…Έν…μ΄μ… μ•μ— μ„ μ–Έν•΄ λ†“μΌλ©΄, μ΄ μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•  λ• 
    // ν•΄λ‹Ή ν•­λ©μ— λ€ν• νƒ€μ…μΌλ΅ κ°’μ„ μ§€μ • κ°€λ¥
    public int number();
    
    // β‘¤ text()λ¥Ό λ³΄λ©΄ defaultλΌλ” μμ•½μ–΄λ¥Ό μ“Έ μ μμ (default κ°’μ„ μ§€μ • κ°€λ¥)
    // default μμ•½μ–΄λ¥Ό μ‚¬μ©ν•  κ²½μ°μ—λ”, default λ’¤μ— μλ” κ°’μ΄ μ΄ μ–΄λ…Έν…μ΄μ…μ„ 
    // μ‚¬μ©ν•  λ•μ κΈ°λ³Έκ°’μ΄ λ¨. μ¦‰, κ°’μ„ μ§€μ •ν•μ§€ μ•μ•„λ„ default κ°’μΌλ΅ μ§€μ •λ¨
    public String text() default "This is first annotation";
}
```

```java
package c.annotation;

// ν΄λμ¤ λ λ²¨μ— μ–΄λ…Έν…μ΄μ… μ μ© (number=0, textλ” κΈ°λ³Έκ°’ μ‚¬μ©)  
@UserAnnotation(number=0)  
public class UserAnnotationSample {  
  
    @UserAnnotation(number = 0)  
    public static void main(String args[]) {  
        UserAnnotationSample sample = new UserAnnotationSample();  
    }  
  
    // λ©”μ†λ“μ— μ–΄λ…Έν…μ΄μ… μ μ© (number=1, textλ” κΈ°λ³Έκ°’ μ‚¬μ©)  
    @UserAnnotation(number=1)  
    public void annotationSample1() {  
    }  
    // λ©”μ†λ“μ— μ–΄λ…Έν…μ΄μ… μ μ© (number=2, text="second"λ΅ μ§€μ •)  
    @UserAnnotation(number=2, text="second")  
    public void annotationSample2() {  
    }  
    // λ©”μ†λ“μ— μ–΄λ…Έν…μ΄μ… μ μ© (number=3, text="third"λ΅ μ§€μ •)  
    @UserAnnotation(number=3, text="third")  
    public void annotationSample3() {  
    }
}
```


### μ–΄λ…Έν…μ΄μ…μ— μ„ μ–Έν• κ°’μ€ μ–΄λ–»κ² ν™•μΈν•μ§€?

```java
import java.lang.reflect.Method;

public class UserAnnotationCheck {
    public static void main(String args[]) {
        UserAnnotationCheck sample = new UserAnnotationCheck();
        sample.checkAnnotations(UserAnnotationSample.class);
    }
    
    public void checkAnnotations(Class useClass) {
        // β‘  Class ν΄λμ¤μ— μ„ μ–Έλμ–΄ μλ” getDeclaredMethods() λ©”μ†λ“λ¥Ό νΈμ¶ν•μ—¬,
        // ν•΄λ‹Ή ν΄λμ¤μ— μ„ μ–Έλμ–΄ μλ” λ©”μ†λ“λ“¤μ λ©λ΅μ„ λ°°μ—΄λ΅ λ¦¬ν„΄
        Method[] methods = useClass.getDeclaredMethods();
        
        for(Method tempMethod : methods) {
            // β‘΅ Method ν΄λμ¤μ— μ„ μ–Έλμ–΄ μλ” getAnnotation()μ΄λΌλ” λ©”μ†λ“λ¥Ό νΈμ¶ν•μ—¬,
            // ν•΄λ‹Ή λ©”μ†λ“μ— μ„ μ–Έλμ–΄ μλ” λ§¤κ° λ³€μλ΅ λ„κ²¨μ¤€ μ–΄λ…Έν…μ΄μ…μ΄ μλ”μ§€ ν™•μΈν•κ³ ,
            // μμ„ κ²½μ° κ·Έ μ–΄λ…Έν…μ΄μ…μ κ°μ²΄λ¥Ό λ¦¬ν„΄
            UserAnnotation annotation = 
                tempMethod.getAnnotation(UserAnnotation.class);
            
            if(annotation != null) {
                // β‘Ά μ–΄λ…Έν…μ΄μ…μ— μ„ μ–Έλ λ©”μ†λ“λ¥Ό νΈμ¶ν•μ—¬, κ·Έ κ°’μ„ λ¦¬ν„΄
                int number = annotation.number();
                String text = annotation.text();
                
                System.out.println(tempMethod.getName()
                    + "() : number=" + number + " text=" + text);
            } else {
                System.out.println(tempMethod.getName()
                    + "() : annotation is null.");
            }
        }
    }
}

/*

main() : number=0 text=This is first annotation
annotationSample1() : number=1 text=This is first annotation
annotationSample2() : number=2 text=second
annotationSample3() : number=3 text=third

*/


```

- Class ν΄λμ¤, Method ν΄λμ¤ λ” μλ°”μ λ¦¬ν”λ ‰μ…(Reflection)μ΄λΌλ” APIμ—μ„ μ κ³µν•λ ν΄λμ¤λ“¤μ΄λ‹¤.
	- Class: ν΄λμ¤μ μ •λ³΄λ¥Ό ν™•μΈ
	- Method: λ©”μ†λ“μ μ •λ³΄λ¥Ό ν™•μΈν•λ” λ° μ‚¬μ©

- λ¦¬ν”λ ‰μ… APIλ¥Ό μ‚¬μ©ν•λ©΄ μ—¬λ¬λ¶„λ“¤μ΄ μ„ μ–Έν•μ—¬ μ‚¬μ©ν•λ” μ–΄λ…Έν…μ΄μ…μ— λ€ν• μ •λ³΄λ¥Ό ν™•μΈν•  μ μμµλ‹λ‹¤.


### μ–΄λ…Έν…μ΄μ…λ„ μƒμ†μ΄ μ•λΌμ”
- μ–΄λ…Έν…μ΄μ…μ„ μ„ μ–Έν•  λ• λ―Έλ¦¬ λ§λ“¤μ–΄ λ†“μ€ μ–΄λ…Έν…μ΄μ…μ„ ν™•μ¥ν•λ” κ²ƒμ΄ λ¶κ°€λ¥ν•λ‹¤.

**μ–΄λ…Έν…μ΄μ…μ μ©λ„**(μ°Έκ³ )
- μ μ•½μ‚¬ν•­ λ“±μ„ μ„ μ–Έν•κΈ° μ„ν•΄ : @Deprecated, @Override, @NotNull
- μ©λ„λ¥Ό λ‚νƒ€λ‚΄κΈ° μ„ν•΄ : @Entity, @TestCase, @WebService
- ν–‰μ„λ¥Ό λ‚νƒ€λ‚΄κΈ° μ„ν•΄ : @Stateful, @Transaction
- μ²λ¦¬λ¥Ό λ‚νƒ€λ‚΄κΈ° μ„ν•΄ : @Column, @XmlElement

- μ–΄λ…Έν…μ΄μ…μ΄ λ§λ“¤μ–΄μ§€κΈ° μ „μ—λ” μλ°” μ–΄ν”λ¦¬μΌ€μ΄μ…μ μ„¤μ •μ„ XML, properties λΌλ” νμΌμ— μ§€μ •ν–λ‹¤. μ„¤μ •μ΄ λ³µμ΅ν•κ³  κ°€λ…μ„±μ΄ λ–¨μ–΄μ΅λ‹¤. μ–΄λ…Έν…μ΄μ…μ΄ λ§λ“¤μ–΄μ§€λ©΄μ„ κ° μ„¤μ •μ΄ ν•„μ”ν• μ„μΉμ— κ΄€λ ¨ μ„¤μ •μ΄ μ΅΄μ¬ν•λ©΄μ„ μ½”λ“μ— λ€ν• κ°€λ…μ„±μ΄ μΆ‹μ•„μ΅λ‹¤.
