## ğŸ“š ë‚´ìš© ì •ë¦¬
---
### âœ¨ Serializableì— ëŒ€í•´ì„œ ì¢€ ì‚´í´ë³´ì
- ì¸í„°í˜ì´ìŠ¤ì˜ API ì— ì„ ì–¸ëœ ë³€ìˆ˜ë‚˜ ë©”ì†Œë“œê°€ ì—†ë‹¤.
- ìƒì„±í•œ ê°ì²´ë¥¼ íŒŒì¼ë¡œ ì €ì¥, ì €ì¥í•œ ê°ì²´ ì½ê¸°, ê°ì²´ë¥¼ ë‹¤ë¥¸ ì„œë²„ë¡œ ì „ì†¡, ë‹¤ë¥¸ ì„œë²„ì—ì„œ ìƒì„±í•œ ê°ì²´ ìˆ˜ì‹ 
- Serializable ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë©´ JVM ì—ì„œ ê°ì²´ë¥¼ ì €ì¥í•˜ê±°ë‚˜ ë‹¤ë¥¸ ì„œë²„ë¡œ ì „ì†¡í•  ìˆ˜ ìˆë‹¤.
- serialVersionUID ê°’ ì§€ì • ê¶Œì¥, ê°ì²´ì˜ ë²„ì „ì„ ëª…ì‹œí•˜ëŠ” ë° ì‚¬ìš©í•œë‹¤.

```java
static final long serialVersionUID = 1L;
```


### âœ¨ ê°ì²´ë¥¼ ì €ì¥í•´ë³´ì

**ì €ì¥**
```java
fos = new FileOutputStream(fullPath);
oss = ObjectOutputStream(fos);
oos.writeObject(dto);
```

- ì €ì¥í•  ê°ì²´ ìƒì„± ë° Serializable implements
- FileOutputStream ê°ì²´ ìƒì„±
- ObjectOutputStream ê°ì²´ ìƒì„±
- writeObject() ë©”ì†Œë“œ ì‚¬ìš©í•´ ê°ì²´ ì €ì¥ 

**ì½ê¸°**
```java
FileInputStream fis = new FileInputStream(fullPath); 
ObjectInputStream ois = new ObjectInputStream(fis);
Object obj = ois.readObject(); 
SerialDTO dto = (SerialDTO) obj; 

// ìŠ¤íŠ¸ë¦¼ ë‹«ê¸° 
ois.close(); 
fis.close();
```
- ê°ì²´ë¥¼ ì½ì„ ë•ŒëŠ” readObject() ë©”ì†Œë“œ ì‚¬ìš©

- SerialDTO í´ë˜ìŠ¤ì— ë³€ìˆ˜ë¥¼ ì¶”ê°€í–ˆì„ ë•Œ
	- ê°ì²´ë¥¼ ì½ëŠ” í´ë˜ìŠ¤ ì‹¤í–‰ ì‹œ InvalidClassException ë°œìƒ, SerialDTO í´ë˜ìŠ¤ì— `serialVersionUIT` ì¶”ê°€í•´ì£¼ë©´ ì˜ˆì™¸ ë°œìƒ ì•ˆí•¨

```java
public class SerialDTO implements Serializable {
    static final long serialVersionUID = 1L;
    
    // ì¤‘ê°„ ìƒëµ
}
```

- ì´ë ‡ê²Œ serialVersionUIT ë¥¼ ì§€ì •í•´ ë†“ì€ ìƒíƒœì—ì„œ ì €ì¥ë˜ì–´ ìˆëŠ” ê°ì²´ì™€ ì½ëŠ” ê°ì²´ê°€ ë‹¤ë¥¸ ê²½ìš°
	- ë³€ìˆ˜ì˜ ì´ë¦„ì´ ë°”ë€Œë©´ ì €ì¥ë˜ì–´ ìˆëŠ” ê°ì²´ì—ì„œ ì°¾ì§€ ëª»í•˜ë¯€ë¡œ, í•´ë‹¹ ê°’ì„ nullë¡œ ì²˜ë¦¬ëœë‹¤.

- ë°ì´í„°ê°€ ë°”ë€Œë©´ serialVersionUIT ê°’ì„ ë³€ê²½í•˜ëŠ” ìŠµê´€ì„ ê°€ì ¸ì•¼ ë°ì´í„° ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.
	- ëª‡ëª‡ IDEì—ì„œëŠ” ìë™ìœ¼ë¡œ serialVersionUIT ë¥¼ ìƒì„±í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µ


### âœ¨ transient ë¼ëŠ” ì˜ˆì•½ì–´ëŠ” Serializableê³¼ ë–¨ì–´ì§ˆ ìˆ˜ ì—†ëŠ” ê´€ê³„ë‹¤.

```java
transient private int bookOrder;
```

- ransient ì˜ˆì•½ì–´ë¥¼ ì‚¬ìš©í•˜ë©´ ë³€ìˆ˜ëŠ” serializable ëŒ€ìƒì—ì„œ ì œì™¸ëœë‹¤.
- ë³´ì•ˆìƒ ì¤‘ìš”í•œ ë³€ìˆ˜ë‚˜ ê¼­ ì €ì¥í•´ì•¼í•  í•„ìš”ê°€ ì—†ëŠ” ë³€ìˆ˜ëŠ” transientë¥¼ ì‚¬ìš©


### âœ¨ ìë°” NIOë€?
- JDK 1.4 ë¶€í„° NIO(New IO) ì¶”ê°€, ì†ë„ ë•Œë¬¸ì— ì¶”ê°€ë¨
- ì±„ë„(Channel), ë²„í¼(Buffer)ë¥¼ ì‚¬ìš©í•œë‹¤.
	- ì±„ë„ì€ ë¬¼ê±´ì„ ì¤‘ê°„ì—ì„œ ì²˜ë¦¬í•˜ëŠ” ë„ë§¤ìƒ.
	- ë²„í¼ëŠ” ë„ë§¤ìƒì—ì„œ ë¬¼ê±´ì„ ì‚¬ê³ , ì†Œë¹„ìì—ê²Œ ë¬¼ê±´ì„ íŒŒëŠ” ì†Œë§¤ìƒ.

```java
package e.network;

import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.nio.ByteBuffer;
import java.nio.channels.FileChannel;

public class NioSample {
    
    public static void main(String[] args) {
        NioSample sample = new NioSample();
        sample.basicWriteAndRead();
    }
    
    public void basicWriteAndRead() {
        String fileName = "C:\\godofjava\\text\\nio.txt";
        try {
            writeFile(fileName, "My first NIO sample.");
            readFile(fileName);
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
    
    /**
     * íŒŒì¼ì— ë°ì´í„°ë¥¼ ì“°ëŠ” ë©”ì†Œë“œ
     */
    public void writeFile(String fileName, String data) throws Exception {
        // â‘  íŒŒì¼ì„ ì“°ê¸° ìœ„í•œ FileChannel ê°ì²´ë¥¼ ë§Œë“¤ë©°, ì´ì™€ ê°™ì´ FileOutputStream í´ë˜ìŠ¤ì— ì„ ì–¸ëœ getChannel() ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•œë‹¤.
        FileChannel channel = new FileOutputStream(fileName).getChannel();
        
        // String ë°ì´í„°ë¥¼ byte ë°°ì—´ë¡œ ë³€í™˜
        byte[] byteData = data.getBytes();
        
        // â‘¡ ByteBuffer í´ë˜ìŠ¤ì˜ staticìœ¼ë¡œ ì„ ì–¸ëœ wrap() ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ë©´, ByteBuffer ê°ì²´ê°€ ìƒì„±ëœë‹¤. 
        // ì´ ë©”ì†Œë“œì˜ ë§¤ê°œ ë³€ìˆ˜ëŠ” ì €ì¥í•  byteì˜ ë°°ì—´ì„ ë„˜ê²¨ì£¼ë©´ ëœë‹¤.
        ByteBuffer buffer = ByteBuffer.wrap(byteData);
        
        // â‘¢ FileChannel í´ë˜ìŠ¤ì— ì„ ì–¸ëœ write() ë©”ì†Œë“œì— buffer ê°ì²´ë¥¼ ë„˜ê²¨ì£¼ë©´ íŒŒì¼ì— ì“°ê²Œ ëœë‹¤.
        channel.write(buffer);
        
        // ì±„ë„ì„ ë‹«ëŠ”ë‹¤
        channel.close();
    }
    
    /**
     * íŒŒì¼ì„ ì½ëŠ” ë©”ì†Œë“œ
     */
    public void readFile(String fileName) throws Exception {
        // â‘£ íŒŒì¼ì„ ì½ê¸° ìœ„í•œ ê°ì²´ë„ FileInputStream í´ë˜ìŠ¤ì— ì„ ì–¸ëœ getChannel() ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
        FileChannel channel = new FileInputStream(fileName).getChannel();
        
        // â‘¤ ByteBuffer í´ë˜ìŠ¤ì— ì„ ì–¸ë˜ì–´ ìˆëŠ” allocate() ë©”ì†Œë“œë¥¼ í†µí•´ì„œ bufferë¼ëŠ” ê°ì²´ë¥¼ ë§Œë“¤ì—ˆë‹¤.
        // ì—¬ê¸°ì„œì˜ ë§¤ê°œ ë³€ìˆ˜ëŠ” ë°ì´í„°ê°€ ê¸°ë³¸ì ìœ¼ë¡œ ì €ì¥ë˜ëŠ” í¬ê¸°ë¥¼ ì˜ë¯¸í•œë‹¤.
        ByteBuffer buffer = ByteBuffer.allocate(1024);
        
        // â‘¥ ì±„ë„ì˜ read() ë©”ì†Œë“œì— buffer ê°ì²´ë¥¼ ë„˜ê²¨ì¤Œìœ¼ë¡œì¨, ë°ì´í„°ë¥¼ ì´ ë²„í¼ì— ë‹´ì•„ì¤€ë‹¤ê³  ì•Œë ¤ì¤€ë‹¤.
        // ì´ë ‡ê²Œ ì•Œë ¤ì£¼ê¸°ë§Œ í•˜ë©´, bufferì—ëŠ” ë°ì´í„°ê°€ ë‹´ê¸°ê¸° ì‹œì‘í•œë‹¤.
        channel.read(buffer);
        
        // â‘¦ flip() ë©”ì†Œë“œëŠ” bufferì— ë‹´ê²¨ìˆëŠ” ë°ì´í„°ì˜ ê°€ì¥ ì•ìœ¼ë¡œ ì´ë™í•œë‹¤.
        buffer.flip();
        
        // â‘§ ByteBufferì— ì„ ì–¸ë˜ì–´ ìˆëŠ” hasRemaining() ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ê°€ ë” ë‚¨ì•„ ìˆëŠ”ì§€ë¥¼ í™•ì¸í•˜ë©´ì„œ ë°˜ë³µì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.
        while (buffer.hasRemaining()) {
            // â‘¨ get() ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ë©´ í•œ ë°”ì´íŠ¸ì”© ë°ì´í„°ë¥¼ ì½ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.
            System.out.print((char) buffer.get());
        }
        
        // ì±„ë„ì„ ë‹«ëŠ”ë‹¤
        channel.close();
    }
}
```


### âœ¨ NIOì˜ Buffer í´ë˜ìŠ¤
- BufferëŠ” java.nio.Buffer í´ë˜ìŠ¤ë¥¼ í™•ì¥í•˜ì—¬ ì‚¬ìš©í•œë‹¤.


- ë²„í¼ì˜ ìƒíƒœ ë° ì†ì„±ì„ í™•ì¸í•˜ê¸° ìœ„í•œ ë©”ì†Œë“œ

| ë¦¬í„´ íƒ€ì… | ë©”ì†Œë“œ | ì„¤ëª… |
|----------|--------|------|
| int | capacity() | ë²„í¼ì— ë‹´ì„ ìˆ˜ ìˆëŠ” í¬ê¸° ë¦¬í„´ |
| int | limit() | ë²„í¼ì—ì„œ ì½ê±°ë‚˜ ì“¸ ìˆ˜ ì—†ëŠ” ì²« ìœ„ì¹˜ ë¦¬í„´ |
| int | position() | í˜„ì¬ ë²„í¼ì˜ ìœ„ì¹˜ ë¦¬í„´ |
position(ìœ„ì¹˜): ë²„í¼ëŠ” CD ì²˜ëŸ¼ ìœ„ì¹˜ê°€ ìˆë‹¤. ë²„í¼ì— ë°ì´í„°ë¥¼ ë‹´ê±°ë‚˜, ì½ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•˜ë©´ í˜„ì¬ 'ìœ„ì¹˜'ê°€ ì´ë™í•œë‹¤.

- position(): í˜„ì¬ `ìœ„ì¹˜`ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë©”ì†Œë“œ
- limit(): ì½ê±°ë‚˜ ì“¸ ìˆ˜ ì—†ëŠ” `ìœ„ì¹˜`ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë©”ì†Œë“œ
- capacity(): `ë²„í„°ì˜ í¬ê¸°`(capacity)

```
0 <= mark <= position <= limit <= í¬ê¸°(capacity)
```

- ìœ„ì¹˜ë¥¼ ë³€ê²½í•˜ëŠ” ë©”ì†Œë“œ

| ë¦¬í„´ íƒ€ì… | ë©”ì†Œë“œ | ì„¤ëª… |
|----------|--------|------|
| Buffer | flip() | limit ê°’ì„ í˜„ì¬ positionìœ¼ë¡œ ì§€ì •í•œ í›„, positionì„ 0(ê°€ì¥ ì•)ìœ¼ë¡œ ì´ë™ |
| Buffer | mark() | í˜„ì¬ positionì„ mark |
| Buffer | reset() | ë²„í¼ì˜ positionì„ markí•œ ê³³ìœ¼ë¡œ ì´ë™ |
| Buffer | rewind() | í˜„ì¬ ë²„í¼ì˜ positionì„ 0ìœ¼ë¡œ ì´ë™ |
| int | remaining() | limit-position ê³„ì‚° ê²°ê³¼ë¥¼ ë¦¬í„´ |
| boolean | hasRemaining() | positionê³¼ limit ê°’ì— ì°¨ì´ê°€ ìˆì„ ê²½ìš° trueë¥¼ ë¦¬í„´ |
| Buffer | clear() | ë²„í¼ë¥¼ ì§€ìš°ê³  í˜„ì¬ positionì„ 0ìœ¼ë¡œ ì´ë™í•˜ë©°, limit ê°’ì„ ë²„í¼ì˜ í¬ê¸°ë¡œ ë³€ê²½ |

- flip() ì€ limit ê°’ì„ ë³€ê²½í•˜ì§€ë§Œ, rewind() ëŠ” limit ê°’ì„ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤.
- mark() ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•´ íŠ¹ì • ìœ„ì¹˜ë¥¼ í‘œì‹œí•´ ë‘ê³  ë‹¤ì‹œ ì½ì„ í•„ìš”ê°€ ìˆì„ ë•Œ rewind() ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•œë‹¤.
- NIO ëŠ” ë‹¨ì§€ íŒŒì¼ì„ ì“°ê³  ì½ì„ ë•Œì—ë§Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, íŒŒì¼ ë³µì‚¬ í•˜ê±°ë‚˜, ë„¤íŠ¸ì›Œí¬ë¥¼ ì£¼ê³  ë°›ì„ ë•Œì—ë„ ì‚¬ìš©


## â›‘ï¸ ë³´ì¶© í•„ìš”
--- 