## ğŸ“š ë‚´ìš© ì •ë¦¬
---
### âœ¨ ì“°ë ˆë“œê°€ ë„ëŒ€ì²´ ë­˜ê¹Œ?
- JVM ì´ ì‹œì‘ë˜ë©´ ìë°” í”„ë¡œì„¸ìŠ¤ê°€ ì‹œì‘í•œë‹¤. í”„ë¡œì„¸ìŠ¤ ì•ˆì— ì—¬ëŸ¬ ê°œì˜ ì“°ë ˆë“œê°€ ìˆë‹¤. 
- ì‘ì—…ì„ ë™ì‹œì— ìˆ˜í–‰í•  ë•Œ í”„ë¡œì„¸ìŠ¤ë¥¼ í•˜ë‚˜ ë” ë§Œë“œëŠ” ê²ƒë³´ë‹¤ ì“°ë ˆë“œë¥¼ í•˜ë‚˜ ë” ë§Œë“œëŠ” ê²ƒì´ ë¹„ìš©ì´ ì ë‹¤. ì“°ë ˆë“œë¥¼ 'ê²½ëŸ‰ í”„ë¡œì„¸ìŠ¤(lightweight process)' ë¼ê³  ë¶€ë¥¸ë‹¤.


### âœ¨ Runnable ì¸í„°í˜ì´ìŠ¤ì™€ Thread í´ë˜ìŠ¤

- Runnable ì¸í„°í˜ì´ìŠ¤ì˜ ë©”ì†Œë“œ

| ë¦¬í„´ íƒ€ì… | ë©”ì†Œë“œ ì´ë¦„ ë° ë§¤ê°œ ë³€ìˆ˜ | ì„¤ëª…                 |
| ----- | -------------- | ------------------ |
| void  | run()          | ì“°ë ˆë“œê°€ ì‹œì‘ë˜ë©´ ìˆ˜í–‰ë˜ëŠ” ë©”ì†Œë“œ |

- Thread í´ë˜ìŠ¤ëŠ” ë§ì€ ìƒì„±ìì™€ ë©”ì†Œë“œë¥¼ ì œê³µí•œë‹¤.

```java
// Runnable ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„
package e.thread;

public class RunnableSample implements Runnable {
    public void run() {
        System.out.println("This is RunnableSample's run() method.");
    }
}

// Thread í´ë˜ìŠ¤ ìƒì†
package e.thread;

public class ThreadSample extends Thread {
    public void run() {
        System.out.println("This is ThreadSample's run() method.");
    }
}

// ì‹¤í–‰
public class RunThreads { 
	public static void main(String[] args) { 
		RunThreads threads = new RunThreads(); 
		threads.runBasic(); 
	} 
	
	public void runBasic() { 
		RunnableSample runnable = new RunnableSample(); 
		new Thread(runnable).start(); 
		
		ThreadSample thread = new ThreadSample(); 
		thread.start(); 
		System.out.println("RunThreads.runBasic() method is ended."); 
	}
 }
```

- run(): ì“°ë ˆë“œê°€ ìˆ˜í–‰í•  ë™ì‘ êµ¬í˜„, ì‹œì‘ì 
- start(): ì“°ë ˆë“œ ì‹œì‘

- java ì—ì„œëŠ” í•˜ë‚˜ì˜ í´ë˜ìŠ¤ë§Œ extends í•  ìˆ˜ ìˆë‹¤. ë‹¤ë¥¸ í´ë˜ìŠ¤ë¥¼ í™•ì¥í•  í•„ìš”ê°€ ìˆì„ ê²½ìš° Runnable ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„, ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš° ì“°ë ˆë“œ í´ë˜ìŠ¤ ì‚¬ìš©

- ì“°ë ˆë“œ êµ¬í˜„ ì‹œ start() ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ë©´, ì“°ë ˆë“œ í´ë˜ìŠ¤ì— ìˆëŠ” run() ë©”ì†Œë“œì˜ ë‚´ìš©ì´ ëë‚˜ëŠ” ê²ƒê³¼ ìƒê´€ ì—†ì´, ë‹¤ìŒ ì¤„ì— ìˆëŠ” ì½”ë“œë¥¼ ì‹¤í–‰í•œë‹¤.
- ìƒˆë¡œ ìƒì„±í•œ ì“°ë ˆë“œëŠ” run() ë©”ì†Œë“œê°€ ì¢…ë£Œë˜ëŠ” ì‹œì ì— ëë‚œë‹¤.


### âœ¨ Thread í´ë˜ìŠ¤ì˜ ìƒì„±ìë¥¼ ì‚´í´ë³´ì.

|ìƒì„±ì|ì„¤ëª…|
|---|---|
|Thread()|ìƒˆë¡œìš´ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•œë‹¤.|
|Thread(Runnable target)|ë§¤ê°œ ë³€ìˆ˜ë¡œ ë°›ì€ target ê°ì²´ì˜ run() ë©”ì†Œë“œë¥¼ ìˆ˜í–‰í•˜ëŠ” ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•œë‹¤.|
|Thread(Runnable target, String name)|ë§¤ê°œ ë³€ìˆ˜ë¡œ ë°›ì€ target ê°ì²´ì˜ run() ë©”ì†Œë“œë¥¼ ìˆ˜í–‰í•˜ê³ , nameì´ë¼ëŠ” ì´ë¦„ì„ ê°–ëŠ” ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•œë‹¤.|
|Thread(String name)|nameì´ë¼ëŠ” ì´ë¦„ì„ ê°–ëŠ” ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•œë‹¤.|
|Thread(ThreadGroup group, Runnable target)|ë§¤ê°œ ë³€ìˆ˜ë¡œ ë°›ì€ groupì˜ ìŠ¤ë ˆë“œ ê·¸ë£¹ì— ì†í•˜ëŠ” target ê°ì²´ì˜ run() ë©”ì†Œë“œë¥¼ ìˆ˜í–‰í•˜ëŠ” ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•œë‹¤.|
|Thread(ThreadGroup group, Runnable target, String name)|ë§¤ê°œ ë³€ìˆ˜ë¡œ ë°›ì€ groupì˜ ìŠ¤ë ˆë“œ ê·¸ë£¹ì— ì†í•˜ëŠ” target ê°ì²´ì˜ run() ë©”ì†Œë“œë¥¼ ìˆ˜í–‰í•˜ê³ , nameì´ë¼ëŠ” ì´ë¦„ì„ ê°–ëŠ” ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•œë‹¤.|
|Thread(ThreadGroup group, Runnable target, String name, long stackSize)|ë§¤ê°œ ë³€ìˆ˜ë¡œ ë°›ì€ groupì˜ ìŠ¤ë ˆë“œ ê·¸ë£¹ì— ì†í•˜ëŠ” target ê°ì²´ì˜ run() ë©”ì†Œë“œë¥¼ ìˆ˜í–‰í•˜ê³ , nameì´ë¼ëŠ” ì´ë¦„ì„ ê°–ëŠ” ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•œë‹¤. ë‹¨, í•´ë‹¹ ìŠ¤ë ˆë“œì˜ ìŠ¤íƒì˜ í¬ê¸°ëŠ” stackSize ë§Œí¼ë§Œ ê°€ëŠ¥í•˜ë‹¤.|
|Thread(ThreadGroup group, String name)|ë§¤ê°œ ë³€ìˆ˜ë¡œ ë°›ì€ groupì˜ ìŠ¤ë ˆë“œ ê·¸ë£¹ì— ì†í•˜ëŠ” nameì´ë¼ëŠ” ì´ë¦„ì„ ê°–ëŠ” ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•œë‹¤.|
- ëª¨ë“  ì“°ë ˆë“œëŠ” ì´ë¦„ì´ ìˆë‹¤. ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ 'Thread-n' ì´ë‹¤. ì´ë¦„ì´ ê²¹ì¹œë‹¤ê³  í•´ì„œ ì˜ˆì™¸/ì—ëŸ¬ ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.
- ì“°ë ˆë“œ ìƒì„± ì‹œ ThreadGroupì„ í†µí•´ ë¬¶ì–´ ë†“ì„ ìˆ˜ ìˆë‹¤.
- stackSize: ìŠ¤íƒ(stack)ì˜ í¬ê¸°

- ì“°ë ˆë“œë¥¼ ì‹œì‘í•  ë•Œ ê°’ì„ ì „ë‹¬í•˜ê³  ì‹¶ìœ¼ë©´, ì“°ë ˆë“œ ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ ë§¤ê°œ ë³€ìˆ˜ë¥¼ ë°›ê³  ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¡œ ì‚¬ìš©í•œë‹¤.

```java
public class NameCalcThread extends Thread {
    private int calcNumber;
    
    public NameCalcThread(String name, int calcNumber) {
        super(name);
        this.calcNumber = calcNumber;
    }
    
    public void run() {
        calcNumber++;
    }
}
```


### âœ¨ ë§ì´ ì‚¬ìš©ë˜ëŠ” sleep() ë©”ì†Œë“œì— ëŒ€í•´ì„œ ì‚´í´ë³´ì
- Thread ì— ìˆëŠ” static ë©”ì†Œë“œëŠ” ëŒ€ë¶€ë¶„ í•´ë‹¹ ì“°ë ˆë“œë¥¼ ìœ„í•´ì„œ ì¡´ì¬í•˜ê¸° ë³´ë‹¤, JVMì— ìˆëŠ” ì“°ë ˆë“œë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤.

|ë¦¬í„´ íƒ€ì…|ë©”ì†Œë“œ ì´ë¦„ ë° ë§¤ê°œ ë³€ìˆ˜|ì„¤ëª…|
|---|---|---|
|static void|sleep(long millis)|í•´ë‹¹ ë©”ì†Œë“œë¥¼ ë°›ì•„ì˜¨ ì‹œê°„(ë°€ë¦¬ì´ˆ)ë§Œí¼ ëŒ€ê¸°í•œë‹¤.|
|static void|sleep(long millis, int nanos)|ì²« ë²ˆì§¸ ë§¤ê°œ ë³€ìˆ˜ë¡œ ë°›ì•„ì˜¨ ì‹œê°„(ë°€ë¦¬ì´ˆ)ë§Œí¼ ëŒ€ê¸°í•˜ë©°, ë‘ ë²ˆì§¸ ë§¤ê°œ ë³€ìˆ˜ë¡œ ë°›ì•„ì˜¨ ì‹œê°„(ë‚˜ë…¸ì´ˆ, 0~999,999)ë¥¼ ì¶”ê°€ë¡œ ë”í•œë‹¤.|

- Thread.sleep() ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•  ë•Œì—ëŠ” try-catch ë¡œ ë¬¶ì–´ì¤˜ì•¼í•œë‹¤. (InterruptedException)

```java
public class EndlessThread extends Thread {
    public void run() {
        while(true) {
            try {
                System.out.println(System.currentTimeMillis());
                Thread.sleep(1000);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }
}
```


### âœ¨ Thread í´ë˜ìŠ¤ì˜ ì£¼ìš” ë©”ì†Œë“œë¥¼ ì‚´í´ë³´ì
- ì“°ë ˆë“œì˜ ì†ì„± í™•ì¸ ë° ì§€ì • / ì“°ë ˆë“œì˜ ìƒíƒœë¥¼ í†µì œí•˜ê¸° ìœ„í•œ ë©”ì†Œë“œ ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.

| ë¦¬í„´ íƒ€ì…               | ë©”ì†Œë“œ ì´ë¦„ ë° ë§¤ê°œ ë³€ìˆ˜               | ì„¤ëª…                                  |
| ------------------- | ---------------------------- | ----------------------------------- |
| void                | run()                        | ë” ì´ìƒ ì„¤ì •ì´ í•„ìš” ì—†ëŠ” ì•„ë¥´ë¹„í† ë¦¬ë‚˜ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ë©”ì†Œë“œë‹¤. |
| long                | getId()                      | ìŠ¤ë ˆë“œì˜ ì•„ì´ë”” ê°’ì„ ë¦¬í„´ë‹¤ë‹¤. JVMì—ì„œ ìë™ìœ¼ë¡œ ìƒì„±í•´ì¤€ë‹¤. |
| String              | getName()                    | ìŠ¤ë ˆë“œì˜ ì´ë¦„ì„ ë¦¬í„´ë‹¤ë‹¤.                      |
| void                | setName(String name)         | ìŠ¤ë ˆë“œì˜ ì´ë¦„ì„ ì§€ì •í•œë‹¤.                      |
| int                 | getPriority()                | ìŠ¤ë ˆë“œì˜ ìš°ì„  ìˆœìœ„ë¥¼ í™•ì¸í•œë‹¤.                   |
| void                | setPriority(int newPriority) | ìŠ¤ë ˆë“œì˜ ìš°ì„  ìˆœìœ„ë¥¼ ì§€ì •í•œë‹¤.                   |
| boolean             | isDaemon()                   | ìŠ¤ë ˆë“œê°€ ë°ëª¬ì¸ì§€ í™•ì¸í•œë‹¤.                     |
| void                | setDaemon(boolean on)        | ìŠ¤ë ˆë“œë¥¼ ë°ëª¬ìœ¼ë¡œ ì„¤ì •í• ì§€ ì•„ë‹Œì§€ë¥¼ ì„¤ì •í•œë‹¤.           |
| StackTraceElement[] | getStackTrace()              | ìŠ¤ë ˆë“œì˜ ìŠ¤íƒ ì •ë³´ë¥¼ í™•ì¸í•œë‹¤.                   |
| Thread.State        | getState()                   | ìŠ¤ë ˆë“œì˜ ìƒíƒœë¥¼ í™•ì¸í•œë‹¤.                      |
| ThreadGroup         | getThreadGroup()             | ìŠ¤ë ˆë“œì˜ ê·¸ë£¹ì„ í™•ì¸í•œë‹¤.                      |
- ì“°ë ˆë“œì˜ ìš°ì„  ìˆœìœ„(Priority) ëŠ” ê¸°ë³¸ê°’ ì‚¬ìš©ì„ ê¶Œì¥í•œë‹¤. (ëŒ€ê¸° ìƒí™©ì—ì„œ ë” ë¨¼ì € ìˆ˜í–‰í•˜ëŠ” ìš°ì„  ìˆœìœ„)
	- MAX_PRIORITY: 10
	- NORM_PRIORITY: 5 (default ê°’)
	- MIN_PRIORITY: 1

- ë°ëª¬ìœ¼ë¡œ ì§€ì •í•˜ë©´, ê·¸ ì“°ë ˆë“œê°€ ìˆ˜í–‰ ì—¬ë¶€ ìƒê´€ ì—†ì´ JVMì´ ëë‚  ìˆ˜ ìˆë‹¤. ë‹¨, ì“°ë ˆë“œê°€ ìˆ˜í–‰í•˜ê¸° ì „ì— ë°ëª¬ ì—¬ë¶€ë¥¼ ì§€ì •í•´ì•¼í•œë‹¤. 
- ëª¨ë‹ˆí„°ë§ ì“°ë ˆë“œ ì²˜ëŸ¼ ë¶€ê°€ì ì¸ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì“°ë ˆë“œë¥¼ ë§Œë“¤ ë•Œ ì‚¬ìš©


### âœ¨ ì“°ë ˆë“œì™€ ê´€ë ¨ì´ ë§ì€ synchronized
- ì˜ˆì•½ì–´ ì´ë‹¤. (ë³€ìˆ˜ëª…, í´ë˜ìŠ¤ëª… ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.)
- í´ë˜ìŠ¤ë‚˜ ë©”ì†Œë“œê°€ thread safe í•  ìˆ˜ ìˆë„ë¡ ì‚¬ìš©í•œë‹¤.

- ë‘ ê°€ì§€ ì‚¬ìš© ë°©ë²•
	- synchronized methods: ë©”ì†Œë“œ ìì²´ë¥¼ synchronizedë¡œ ì„ ì–¸ 
	- synchronized statements: íŠ¹ì • ë¬¸ì¥ë§Œ synchronizedë¡œ ê°ì‹¸ëŠ” ë°©ë²•

```java
public synchronized void plus(int value) { 
	amount += value;
}
```

- ë™ì¼í•œ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ëŠ” ë‹¤ë¥¸ ì“°ë ˆë“œì—ì„œ, ì´ ë©”ì†Œë“œë¥¼ ë³€ê²½í•˜ë ¤ê³  í•˜ë©´ ë¨¼ì € ë“¤ì–´ì˜¨ ì“°ë ˆë“œê°€ ì¢…ë£Œë  ë–„ê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.


### âœ¨ synchronized ë¸”ë¡ì€ ì´ë ‡ê²Œ ì‚¬ìš©í•œë‹¤.
- ë©”ì†Œë“œì— ê°„ë‹¨íˆ synchronizedë¥¼ ì¶”ê°€í•´ ì£¼ë©´ ë˜ëŠ” ê²ƒ ê°™ì§€ë§Œ ì˜ëª»í•˜ë©´ ì„±ëŠ¥ìƒ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.
- race condition ì´ ë°œìƒí•˜ëŠ” ë¶€ë¶„ë§Œ synchronized ì²˜ë¦¬í•´ ì£¼ë©´ ëœë‹¤.

```java
public void plus(int value) {
    synchronized(this) {
        amount += value;
    }
}

public void minus(int value) {
    synchronized(this) {
        amount -= value;
    }
}
```

- ì†Œê´„í˜¸ ì•ˆì— this ê°€ ìˆëŠ” ë¶€ë¶„ì— ì ê¸ˆ ì²˜ë¦¬ë¥¼ í•˜ê¸° ìœ„í•œ ê°ì²´ë¥¼ ì„ ì–¸í•œë‹¤.
- ì¼ë°˜ì ìœ¼ë¡œ ë‹¤ìŒê³¼ê°™ì´ ë³„ë„ì˜ ê°ì²´ë¥¼ ì„ ì–¸

```java
Object lock = new Object();

public void plus(int value) {
    synchronized(lock) {
        amount += value;
    }
}

public void minus(int value) {
    synchronized(lock) {
        amount -= value;
    }
}
```

- ë‘ ê°œì˜ ë³„ë„ lock ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒ ê¶Œì¥

```java
private int amount;
private int interest;
private Object interestLock = new Object();
private Object amountLock = new Object();

public void addInterest(int value) {
    synchronized(interestLock) {
        interest += value;
    }
}

public void plus(int value) {
    synchronized(amountLock) {
        amount += value;
    }
}
```

- synchronized ëŠ” ê°™ì€ ê°ì²´ë¥¼ ì°¸ì¡°í•  ë•Œ ìœ ìš”í•˜ë‹¤.
- synchronized ëŠ” ì—¬ëŸ¬ ì“°ë ˆë“œì—ì„œ í•˜ë‚˜ì˜ ê°ì²´ì— ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¥¼ ë™ì‹œì— ì²˜ë¦¬í•  ë•Œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ í•„ìš”í•˜ë‹¤.


### âœ¨ ì“°ë ˆë“œë¥¼ í†µì œí•˜ëŠ” ë©”ì†Œë“œë“¤

- ì“°ë ˆë“œì˜ ìƒíƒœë¥¼ í†µì œí•˜ëŠ” ë©”ì†Œë“œë“¤

| ë¦¬í„´ íƒ€ì…        | ë©”ì„œë“œ ì´ë¦„ ë° ë§¤ê°œ ë³€ìˆ˜               | ì„¤ëª…                                                                         |
| ------------ | ---------------------------- | -------------------------------------------------------------------------- |
| Thread.State | getState()                   | ìŠ¤ë ˆë“œì˜ ìƒíƒœ í™•ì¸í•œë‹¤.                                                              |
| void         | join()                       | ìˆ˜í–‰ì¤‘ì¸ ìŠ¤ë ˆë“œê°€ ì¤‘ì§€í•  ë•Œê¹Œì§€ ëŒ€ê¸°í•œë‹¤.                                                    |
| void         | join(long millis)            | ë§¤ê°œ ë³€ìˆ˜ì— ì§€ì •ëœ ì‹œê°„ë§Œí¼(1/1,000ì´ˆ) ëŒ€ê¸°í•œë‹¤.                                            |
| void         | join(long millis, int nanos) | ì²« ë²ˆì§¸ ë§¤ê°œ ë³€ìˆ˜ì— ì§€ì •ëœ ì‹œê°„(1/1,000ì´ˆ)ê³¼ ë‘ ë²ˆì§¸ ë§¤ê°œ ë³€ìˆ˜ì— ì§€ì •ëœ ì‹œê°„(1/1,000,000,000ì´ˆ)ë§Œí¼ ëŒ€ê¸°í•œë‹¤. |
| void         | interrupt()                  | ìˆ˜í–‰ì¤‘ì¸ ìŠ¤ë ˆë“œì— ì¤‘ì§€ ìš”ì²­ì„ í•œë‹¤.                                                       |

- State ë¼ëŠ” enumì˜ ìƒìˆ˜ ëª©ë¡

|ìƒíƒœ|ì˜ë¯¸|
|---|---|
|NEW|ìŠ¤ë ˆë“œ ê°ì²´ëŠ” ìƒì„±ë˜ì—ˆì§€ë§Œ, ì•„ì§ ì‹œì‘ë˜ì§€ëŠ” ì•Šì€ ìƒíƒœ|
|RUNNABLE|ìŠ¤ë ˆë“œê°€ ì‹¤í–‰ì¤‘ì¸ ìƒíƒœ|
|BLOCKED|ìŠ¤ë ˆë“œê°€ ì‹¤í–‰ ì¤‘ì§€ ìƒíƒœì´ë©°, ëª¨ë‹ˆí„° ë½(monitor lock)ì´ í’€ë¦¬ê¸°ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœ|
|WAITING|ìŠ¤ë ˆë“œê°€ ëŒ€ê¸°ì¤‘ì¸ ìƒíƒœ|
|TIMED_WAITING|íŠ¹ì • ì‹œê°„ë§Œí¼ ìŠ¤ë ˆë“œê°€ ëŒ€ê¸°ì¤‘ì¸ ìƒíƒœ|
|TERMINATED|ìŠ¤ë ˆë“œê°€ ì¢…ë£Œëœ ìƒíƒœ|

- ëª¨ë“  ì“°ë ˆë“œëŠ” 'NEW -> ìƒíƒœ -> TERMINATED' ë¼ì´í”„ ì‚¬ì´í´ì„ ê°€ì§„ë‹¤.


<figure style="text-align: left;">
    <img src="./Pasted image 20250701215716.png" >
</figure>
**join()**
- join() ë©”ì†Œë“œëŠ” í•´ë‹¹ ì“°ë ˆë“œê°€ ì¢…ë£Œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.
- ë§¤ê°œ ë³€ìˆ˜ ê°’ì„ 0ìœ¼ë¡œ ì§€ì •í•˜ë©´ join() ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ ë™ì¼í•˜ê²Œ ë¬´í•œì • ê¸°ë‹¤ë¦°ë‹¤.

**interrupt()**
- í˜„ì¬ ìˆ˜í–‰ì¤‘ì¸ ì“°ë ˆë“œë¥¼ ì¤‘ë‹¨ì‹œí‚¨ë‹¤.
- InterruptedExceptionì„ ë°œìƒì‹œí‚¤ë©´ì„œ ì¤‘ë‹¨ì‹œí‚¨ë‹¤. (sleep(), join() ë©”ì†Œë“œ ì—ì„œ ë°œìƒí•˜ëŠ” ì˜ˆì™¸)
- sleep(), join() ë©”ì†Œë“œì™€, Object í´ë˜ìŠ¤ì˜ wait() ë©”ì†Œë“œê°€ í˜¸ì¶œëœ ìƒíƒœì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥
- ì‹œì‘ì „, ì¢…ë£Œëœ ìƒíƒœì—ì„œ í˜¸ì¶œ ì‹œ ë¬´ì‹œëœë‹¤.
- stop() ë©”ì†Œë“œëŠ” ì•ˆì „ìƒ ë¬¸ì œë¡œ deprecated ë¨, interrupt() ì‚¬ìš© ê¶Œì¥


- ìƒíƒœ í™•ì¸ì„ ìœ„í•œ ë©”ì†Œë“œ

| ë¦¬í„´ íƒ€ì…          | ë©”ì„œë“œ ì´ë¦„ ë° ë§¤ê°œ ë³€ìˆ˜  | ì„¤ëª…                                                                                      |
| -------------- | --------------- | --------------------------------------------------------------------------------------- |
| void           | checkAccess()   | í˜„ì¬ ìˆ˜í–‰ì¤‘ì¸ ìŠ¤ë ˆë“œê°€ í•´ë‹¹ ìŠ¤ë ˆë“œë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ê¶Œí•œì´ ìˆëŠ”ì§€ë¥¼ í™•ì¸í•œë‹¤. ë§Œì•½ ê¶Œí•œì´ ì—†ë‹¤ë©´ SecurityExceptionì´ë¼ëŠ” ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¨ë‹¤. |
| boolean        | isAlive()       | ìŠ¤ë ˆë“œê°€ ì‚´ì•„ ìˆëŠ”ì§€ë¥¼ í™•ì¸í•œë‹¤. í•´ë‹¹ ìŠ¤ë ˆë“œì˜ run() ë©”ì„œë“œê°€ ì¢…ë£Œë˜ì—ˆëŠ”ì§€ ì•ˆ ë˜ì—ˆëŠ”ì§€ë¥¼ í™•ì¸í•˜ëŠ” ê²ƒì´ë‹¤.                          |
| boolean        | isInterrupted() | run() ë©”ì„œë“œê°€ ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œë˜ì§€ ì•Šê³ , interrupt() ë©”ì„œë“œì˜ í˜¸ì¶œì„ í†µí•´ì„œ ì¢…ë£Œë˜ì—ˆëŠ”ì§€ë¥¼ í™•ì¸í•˜ëŠ” ë° ì‚¬ìš©í•œë‹¤.                 |
| static boolean | interrupted()   | í˜„ì¬ ìŠ¤ë ˆë“œê°€ ì¤‘ì§€ë˜ì—ˆëŠ”ì§€ë¥¼ í™•ì¸í•œë‹¤.                                                                   |
- interrupted() ë©”ì†Œë“œëŠ” í˜„ì¬ ì“°ë ˆë“œ í™•ì¸ìš©, isInterrupted() ë©”ì†Œë“œëŠ” ë‹¤ë¥¸ ì“°ë ˆë“œ í™•ì¸ìš©


- ê¸°íƒ€ static ë©”ì†Œë“œ

| ë¦¬í„´ íƒ€ì…     | ë©”ì„œë“œ ì´ë¦„ ë° ë§¤ê°œ ë³€ìˆ˜ | ì„¤ëª…                                                                          |
| ------------- | ------------------------ | ----------------------------------------------------------------------------- |
| static int    | activeCount()            | í˜„ì¬ ìŠ¤ë ˆë“œê°€ ì†í•œ ìŠ¤ë ˆë“œ ê·¸ë£¹ì˜ ìŠ¤ë ˆë“œ ì¤‘ ì‚´ì•„ìˆëŠ” ìŠ¤ë ˆë“œì˜ ê°œìˆ˜ë¥¼ ë¦¬í„´í•œë‹¤. |
| static Thread | currentThread()          | í˜„ì¬ ìˆ˜í–‰ì¤‘ì¸ ìŠ¤ë ˆë“œì˜ ê°ì²´ë¥¼ ë¦¬í„´í•œë‹¤.                                       |
| static void   | dumpStack()              | ì½˜ì†” ì°½ì— í˜„ì¬ ìŠ¤ë ˆë“œì˜ ìŠ¤íƒ ì •ë³´ë¥¼ ì¶œë ¥í•œë‹¤.                                 |


### âœ¨ Object í´ë˜ìŠ¤ì— ì„ ì–¸ëœ ì“°ë ˆë“œì™€ ê´€ë ¨ìˆëŠ” ë©”ì†Œë“œë“¤

| ë¦¬í„´ íƒ€ì… | ë©”ì„œë“œ ì´ë¦„ ë° ë§¤ê°œ ë³€ìˆ˜                | ì„¤ëª…                                                                                                                                                             |
| ----- | ----------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| void  | wait()                        | ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ Object ê°ì²´ì— ëŒ€í•œ notify() ë©”ì„œë“œë‚˜ notifyAll() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ë•Œê¹Œì§€ í˜„ì¬ ìŠ¤ë ˆë“œê°€ ëŒ€ê¸°í•˜ê³  ìˆë„ë¡ í•œë‹¤.                                                                              |
| void  | wait(long timeout)            | wait() ë©”ì„œë“œì™€ ë™ì¼í•œ ê¸°ëŠ¥ì„ ì œê³µí•˜ë©°, ë§¤ê°œ ë³€ìˆ˜ì— ì§€ì •í•œ ì‹œê°„ë§Œí¼ ëŒ€ê¸°í•œë‹¤. ì¦‰, ë§¤ê°œ ë³€ìˆ˜ ì‹œê°„ì„ ë„˜ì–´ ì„¤ ë•Œì—ëŠ” í˜„ì¬ ìŠ¤ë ˆë“œëŠ” ë‹¤ì‹œ ê¹¨ì–´ë‚œë‹¤. ì—¬ê¸°ì„œì˜ ì‹œê°„ì€ ë°€ë¦¬ì´ˆë¡œ 1/1,000ì´ˆ ë‹¨ìœ„ë‹¤. ë§Œì•½ 1ì´ˆê°„ ê¸°ë‹¤ë¦¬ê²Œ í•  ê²½ìš°ì—ëŠ” 1000ì„ ë§¤ê°œ ë³€ìˆ˜ë¡œ ë„˜ê²¨ì£¼ë©´ ëœë‹¤.    |
| void  | wait(long timeout, int nanos) | wait() ë©”ì„œë“œì™€ ë™ì¼í•œ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. í•˜ì§€ë§Œ, wait(timeout)ì—ì„œ ë°€ë¦¬ì´ˆ ë‹¨ìœ„ì˜ ëŒ€ê¸° ì‹œê°„ì„ ê¸°ë‹¤ë¦¬ë©´, ì´ ë©”ì„œë“œëŠ” ë³´ë‹¤ ìì„¸í•œ ë°€ë¦¬ì´ˆ+ë‚˜ë…¸ì´ˆ(1/1,000,000,000ì´ˆ) ë§Œí¼ë§Œ ëŒ€ê¸°í•œë‹¤. ë’¤ì— ìˆëŠ” ë‚˜ë…¸ì´ˆì˜ ê°’ì€ 0~999,999 ì‚¬ì´ì˜ ê°’ë§Œ ì§€ì •í•  ìˆ˜ ìˆë‹¤. |
| void  | notify()                      | Object ê°ì²´ì˜ ëª¨ë‹ˆí„°ì— ëŒ€ê¸°í•˜ê³  ìˆëŠ” ë‹¨ì¼ ìŠ¤ë ˆë“œë¥¼ ê¹¨ìš´ë‹¤.                                                                                                                           |
| void  | notifyAll()                   | Object ê°ì²´ì˜ ëª¨ë‹ˆí„°ì— ëŒ€ê¸°í•˜ê³  ìˆëŠ” ëª¨ë“  ìŠ¤ë ˆë“œë¥¼ ê¹¨ìš´ë‹¤.                                                                                                                           |

- notify() ë©”ì†Œë“œëŠ” ë¨¼ì € ëŒ€ê¸°í•˜ê³  ìˆëŠ” ê²ƒë¶€í„° ê·¸ ìƒíƒœë¥¼ í’€ì–´ì¤€ë‹¤. ì—¬ëŸ¬ê°œ ë™ì‹œì— ì²˜ë¦¬ì‹œ notifyAll() ë©”ì†Œë“œ ì‚¬ìš© ì¶”ì²œ

```java
public void checkThreadState3() {
    Object monitor = new Object();
    StateThread thread = new StateThread(monitor);
    StateThread thread2 = new StateThread(monitor);
    try {
        System.out.println("thread state=" + thread.getState());
        thread.start();
        thread2.start();
        System.out.println("thread state(after start)=" + thread.getState());
        
        Thread.sleep(100);
        System.out.println("thread state(after 0.1 sec)=" + thread.getState());
        synchronized(monitor) {
            monitor.notify();
        }
        Thread.sleep(100);
        System.out.println("thread state(after notify)=" + thread.getState());
        
        thread.join();
        System.out.println("thread state(after join)=" + thread.getState());
        thread2.join();
        System.out.println("thread2 state(after join)=" + thread2.getState());
    } catch (InterruptedException ie) {
        ie.printStackTrace();
    }
}
```


### âœ¨ ThreadGroup ì—ì„œ ì œê³µí•˜ëŠ” ë©”ì†Œë“œë“¤

| ë¦¬í„´ íƒ€ì…       | ë©”ì„œë“œ ì´ë¦„ ë° ë§¤ê°œ ë³€ìˆ˜                                 | ì„¤ëª…                                                                                               |
| ----------- | ---------------------------------------------- | ------------------------------------------------------------------------------------------------ |
| int         | activeCount()                                  | ì‹¤í–‰ì¤‘ì¸ ìŠ¤ë ˆë“œì˜ ê°œìˆ˜ë¥¼ ë¦¬í„´í•œë‹¤.                                                                              |
| int         | activeGroupCount()                             | ì‹¤í–‰ì¤‘ì¸ ìŠ¤ë ˆë“œ ê·¸ë£¹ì˜ ê°œìˆ˜ë¥¼ ë¦¬í„´í•œë‹¤.                                                                           |
| int         | enumerate(Thread[] list)                       | í˜„ì¬ ìŠ¤ë ˆë“œ ê·¸ë£¹ì— ìˆëŠ” ëª¨ë“  ìŠ¤ë ˆë“œë¥¼ ë§¤ê°œ ë³€ìˆ˜ë¡œ ë„˜ì–´ì˜¨ ìŠ¤ë ˆë“œ ë°°ì—´ì— ë‹´ëŠ”ë‹¤.                                                    |
| int         | enumerate(Thread[] list, boolean recurse)      | í˜„ì¬ ìŠ¤ë ˆë“œ ê·¸ë£¹ì— ìˆëŠ” ëª¨ë“  ìŠ¤ë ˆë“œë¥¼ ë§¤ê°œ ë³€ìˆ˜ë¡œ ë„˜ì–´ì˜¨ ìŠ¤ë ˆë“œ ë°°ì—´ì— ë‹´ëŠ”ë‹¤. ë‘ ë²ˆì§¸ ë§¤ê°œ ë³€ìˆ˜ê°€ trueì´ë©´ í•˜ìœ„ì— ìˆëŠ” ìŠ¤ë ˆë“œ ê·¸ë£¹ì— ìˆëŠ” ìŠ¤ë ˆë“œ ëª©ë¡ë„ í¬í•¨í•œë‹¤. |
| int         | enumerate(ThreadGroup[] list)                  | í˜„ì¬ ìŠ¤ë ˆë“œ ê·¸ë£¹ì— ìˆëŠ” ëª¨ë“  ìŠ¤ë ˆë“œ ê·¸ë£¹ì„ ë§¤ê°œ ë³€ìˆ˜ë¡œ ë„˜ì–´ì˜¨ ìŠ¤ë ˆë“œ ê·¸ë£¹ ë°°ì—´ì— ë‹´ëŠ”ë‹¤.                                              |
| int         | enumerate(ThreadGroup[] list, boolean recurse) | í˜„ì¬ ìŠ¤ë ˆë“œ ê·¸ë£¹ì— ìˆëŠ” ëª¨ë“  ìŠ¤ë ˆë“œ ê·¸ë£¹ì„ ë§¤ê°œ ë³€ìˆ˜ë¡œ ë„˜ì–´ì˜¨ ìŠ¤ë ˆë“œ ê·¸ë£¹ ë°°ì—´ì— ë‹´ëŠ”ë‹¤. ë‘ ë²ˆì§¸ ë§¤ê°œ ë³€ìˆ˜ê°€ trueì´ë©´ í•˜ìœ„ì— ìˆëŠ” ìŠ¤ë ˆë“œ ê·¸ë£¹ ëª©ë¡ë„ í¬í•¨í•œë‹¤.   |
| String      | getName()                                      | ìŠ¤ë ˆë“œ ê·¸ë£¹ì˜ ì´ë¦„ì„ ë¦¬í„´í•œë‹¤.                                                                                |
| ThreadGroup | getParent()                                    | ë¶€ëª¨ ìŠ¤ë ˆë“œ ê·¸ë£¹ì„ ë¦¬í„´í•œë‹¤.                                                                                 |
| void        | list()                                         | ìŠ¤ë ˆë“œ ê·¸ë£¹ì˜ ìƒì„¸ ì •ë³´ë¥¼ ì¶œë ¥í•œë‹¤.                                                                             |
| void        | setDaemon(boolean daemon)                      | ì§€ê¸ˆ ìŠ¤ë ˆë“œ ê·¸ë£¹ì— ì†í•œ ìŠ¤ë ˆë“œë“¤ì„ ë°ëª¬ìœ¼ë¡œ ì§€ì •í•œë‹¤.                                                                   |

- enumerate() ë©”ì†Œë“œëŠ” í•´ë‹¹ ê·¸ë£¹ì— í¬í•¨ëœ ì“°ë ˆë“œë‚˜ ì“°ë ˆë“œ ê·¸ë£¹ ëª©ë¡ì„ ë§¤ê°œ ë³€ìˆ˜ë¡œ ë„˜ì–´ì˜¨ ë°°ì—´ì— ë‹´ëŠ”ë‹¤.

```java
package e.thread.group;

import e.thread.support.SleepThread;

public class RunGroupThreads {
    public static void main(String args[]) {
        RunGroupThreads sample = new RunGroupThreads();
        sample.groupThread();
    }
    
    public void groupThread() {
        try {
            SleepThread sleep1 = new SleepThread(5000);
            SleepThread sleep2 = new SleepThread(5000);
            
            ThreadGroup group = new ThreadGroup("Group1");
            Thread thread1 = new Thread(group, sleep1);
            Thread thread2 = new Thread(group, sleep2);
            
            thread1.start();
            thread2.start();
            Thread.sleep(1000);
            System.out.println("Group name=" + group.getName());
            int activeCount = group.activeCount();
            System.out.println("Active count=" + activeCount);
            group.list();
            
            Thread[] tempThreadList = new Thread[activeCount];
            int result = group.enumerate(tempThreadList);
            System.out.println("Enumerate result=" + result);
            for(Thread thread : tempThreadList) {
                System.out.println(thread);
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
```



## â›‘ï¸ ë³´ì¶© í•„ìš”
--- 
- Tomcat, WAS
- volatile